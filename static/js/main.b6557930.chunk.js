(this["webpackJsonpbaplie-viewer"]=this["webpackJsonpbaplie-viewer"]||[]).push([[3],{100:function(e,t,n){e.exports=n.p+"static/media/loadingIcon.272bbcb4.png"},113:function(e,t,n){e.exports=n(144)},115:function(e,t,n){},142:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);n(114),n(115);var a=n(0),r=n.n(a),c=n(39),u=n.n(c),o=n(29),i=n(31),s=n(103),l=n(177),b=n(182),p=n(22),d=n(17),O=n(176),f=n(57),S=n(30),h=Object(S.a)(),m=n(46),j=r.a.lazy((function(){return n.e(13).then(n.bind(null,449))})),E=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,451))})),v=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(8)]).then(n.bind(null,452))})),g=r.a.lazy((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,453))})),y=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(10),n.e(9)]).then(n.bind(null,454))})),x=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,455))})),_=(r.a.lazy((function(){return n.e(14).then(n.bind(null,456))})),n(142),n(99)),w=n.n(_),A=n(100),I=n.n(A),C=function(){return Object(d.d)("div",{css:R.container,className:"spinnerContainer d-flex justify-content-center align-items-center h-100 absolute"},Object(d.d)("img",{src:I.a,alt:"Loading...",css:R.spinner}))},T=Object(d.e)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(359deg)"}}),R={container:{position:"absolute",zIndex:"900",backgroundImage:"url(".concat(w.a,")"),backgroundSize:"cover"},spinner:{animation:"x 2s infinite linear",animationName:T,height:"80px",width:"80px"}},N=n(73),D=["component","authentication"],k=Object(o.c)((function(e){return{authentication:e.authentication}}))((function(e){var t=e.component,n=e.authentication,a=Object(N.a)(e,D),c=n.isAuthenticated;return r.a.createElement(f.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(f.a,{to:"/login"})}}))})),F=function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(C,null)},r.a.createElement(m.a,{history:i.b},r.a.createElement(f.d,null,r.a.createElement(E,{path:"/login",exact:!0}),r.a.createElement(v,{path:"/signup",exact:!0}),r.a.createElement(y,{path:"/forgot-password",exact:!0}),r.a.createElement(g,{path:"/activation",exact:!0}),r.a.createElement(x,{path:"/forgotpassword",exact:!0}),r.a.createElement(k,{component:j,path:"/",exact:!0}),r.a.createElement(f.a,{from:"**",to:"/",exact:!0}))))},P=n(180),L=n(178),U=n(45),G=r.a.forwardRef((function(e,t){return r.a.createElement(L.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))}));var W=function(e){var t=Object(o.e)((function(e){return e.snackbar})),n=t.isOpen,a=t.message,c=t.type,u=Object(o.d)(),i=function(e,t){"clickaway"!==t&&u(Object(U.a)())};return r.a.createElement(P.a,{open:n,autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},key:"bottom,center",onClose:function(){return i}},r.a.createElement(G,{onClose:i,severity:c,className:"medium_font"},a))},B=Object(o.c)((function(){return{}}),{actionCreator:i.a})((function(e){var t=e.actionCreator,n=Object(a.useState)(!0),c=Object(p.a)(n,2),u=c[0],o=c[1];Object(a.useEffect)((function(){s()}),[t]);var s=function(){var e=JSON.parse(localStorage.getItem("user"));(null===e||void 0===e?void 0:e.accessToken)&&(t({type:i.d.LOGIN_SUCCESS,payload:e}),t({type:i.d.SET_CURRENT_FILE_COUNT,payload:e.currentfilecount})),o(!1)};return Object(d.d)(r.a.Fragment,null,Object(d.d)(O.a,null),!u&&Object(d.d)("div",null,Object(d.d)(f.c,{history:h},Object(d.d)(W,null),Object(d.d)(F,null))))}));var M=function(){var e=Object(s.a)({palette:{type:"light",primary:{main:"#00FFDD"},secondary:{main:"#30B9EF"}},components:{MuiCheckbox:{styleOverrides:{root:{color:"#30B9EF"}}},MuiButton:{styleOverrides:{label:{color:"white",fontWeight:"600"},containedPrimary:{backgroundColor:"#fff45b",color:"#000",boxShadow:"0px 5px 5px 0px #ccc"},root:{"&.Mui-disabled":{backgroundColor:"#30B9EF",color:"#FFFFFF"}}}},MuiFormLabel:{styleOverrides:{root:{"&$focused":{color:"#30B9EF"}}}},MuiInputLabel:{styleOverrides:{filled:{color:"#313131"}}},MuiInputBase:{styleOverrides:{input:{color:"#313131"}}},MuiFilledInput:{styleOverrides:{underline:{"&&&:before":{borderBottom:"none"},"&&:after":{borderBottom:"none"}},root:{backgroundColor:"white",boxShadow:"0px 5px 5px 0px #ccc",border:"1px solid #E9E7E7","&:hover":{backgroundColor:"white"},"&$focused":{backgroundColor:"white"}}}}}});return r.a.createElement(l.a,{injectFirst:!0},r.a.createElement(b.a,{theme:e},r.a.createElement(B,null)))};u.a.render(r.a.createElement(o.a,{store:i.c},r.a.createElement(M,null)),document.querySelector("#root"))},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(31),r=n(45);function c(e){a.c.dispatch(Object(r.b)(e,"error"))}function u(e){a.c.dispatch(Object(r.b)(e,"success"))}},31:function(e,t,n){"use strict";n.d(t,"c",(function(){return ve})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return Se}));var a={};n.r(a),n.d(a,"LOGIN",(function(){return M})),n.d(a,"LOGIN_SUCCESS",(function(){return V})),n.d(a,"LOGIN_FAILED",(function(){return z})),n.d(a,"SIGNUP",(function(){return H})),n.d(a,"SIGNUP_SUCCESS",(function(){return Y})),n.d(a,"SIGNUP_FAILED",(function(){return J})),n.d(a,"RESET_PASSWORD",(function(){return K})),n.d(a,"RESET_PASSWORD_SUCCESS",(function(){return X})),n.d(a,"RESET_PASSWORD_FAILED",(function(){return q})),n.d(a,"ACTIVATION",(function(){return $})),n.d(a,"ACTIVATION_SUCCESS",(function(){return Q})),n.d(a,"ACTIVATION_FAILED",(function(){return Z})),n.d(a,"FORGOT_PASSWORD",(function(){return ee})),n.d(a,"FORGOT_PASSWORD_SUCCESS",(function(){return te})),n.d(a,"FORGOT_PASSWORD_FAILED",(function(){return ne})),n.d(a,"LOGOUT",(function(){return ae})),n.d(a,"SET_CURRENT_FILE_COUNT",(function(){return re})),n.d(a,"SHOW_LOADER",(function(){return se})),n.d(a,"HIDE_LOADER",(function(){return le})),n.d(a,"SHOW_SNACKBAR",(function(){return oe.b})),n.d(a,"HIDE_SNACKBAR",(function(){return oe.a}));var r=n(28),c=n(30),u=n(43),o=n(88),i=n(46),s=n(12),l=n.n(s),b=n(47),p=n(10),d=n(27),O=n(21),f=n(94),S=n.n(f),h=n(8),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(e.hasOwnProperty("handlerEnabled")&&!e.handlerEnabled)},j=S.a.create({baseURL:"https://sonata.solverminds.net/sonata/api/baplieapi/bapleviewer/api",headers:{"Content-Type":"application/json"}});j.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("user"));return t&&(e.headers.Authorization="Bearer ".concat(t.accessToken)),function(e){return m(e),e}(e)})),j.interceptors.response.use((function(e){return function(e){return m(e),console.log(e),e}(e)}),(function(e){return function(e){var t;return m(e.config)&&401===e.response.status&&(localStorage.removeItem("user"),Object(d.b)("Session expired. Please login again."),t=3e3,new Promise((function(e){return setTimeout(e,t)})),window.location.replace("/login")),Promise.reject(Object(h.a)({},e))}(e)}));var E=function(e,t){if(e.response)throw new Error(e.response.data.message);throw new Error("Oops! Something went wrong. Please give your browser a refresh.")},v=n(45),g=l.a.mark(F),y=l.a.mark(P),x=l.a.mark(L),_=l.a.mark(U),w=l.a.mark(G),A=l.a.mark(W),I=l.a.mark(B),C=function(e){return new Promise((function(t){return setTimeout(t,e)}))},T=function(){var e=Object(b.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("auth/activation",{token:t});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.password,e.prev=1,e.next=4,j.post("auth/resetpassword",{token:n,password:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),E(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("auth/sendforgotpassword/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,t.companyName,t.companyEmailAddress,e.prev=1,e.next=4,j.post("auth/signin",{username:n,password:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),E(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(l.a.mark((function e(t){var n,a,r,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,r=t.companyName,c=t.companyEmailAddress,e.prev=1,e.next=4,j.post("auth/signup",{username:n,password:a,companyName:r,companyEmail:c,userType:"CUSTOMER"});case 4:return u=e.sent,e.abrupt("return",u);case 8:e.prev=8,e.t0=e.catch(1),E(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();function F(e){var t,n,r;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(p.b)(D,t);case 4:return n=c.sent,r=n.data,c.next=8,localStorage.setItem("user",JSON.stringify(r));case 8:return c.next=10,Object(p.c)({type:a.LOGIN_SUCCESS,payload:r});case 10:return c.next=12,Object(p.c)(Object(v.b)("Login successful","success"));case 12:return c.next=14,Object(p.b)(C,100);case 14:return c.next=16,Object(p.c)(Object(O.d)("/"));case 16:c.next=23;break;case 18:return c.prev=18,c.t0=c.catch(1),Object(d.a)(c.t0.message),c.next=23,Object(p.c)({type:a.LOGIN_FAILED});case 23:case"end":return c.stop()}}),g,null,[[1,18]])}function P(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(p.b)(T,t);case 4:return n=r.sent,n.data,r.next=8,Object(p.c)({type:a.ACTIVATION_SUCCESS,payload:"Congratulations. Your account has been activated. You can now use our BaplieViewer application. Head back to the login page."});case 8:Object(d.b)("Your account has been activated successfully."),r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(1),Object(d.a)(r.t0.message),r.next=16,Object(p.c)({type:a.ACTIVATION_FAILED,payload:"Sorry, we are unable to activate your account. Please try refreshing the page."});case 16:case"end":return r.stop()}}),y,null,[[1,11]])}function L(e){var t,n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(p.b)(R,t);case 4:return n=r.sent,n.data,r.next=8,Object(p.c)({type:a.RESET_PASSWORD_SUCCESS});case 8:return Object(d.b)("Reset password has been successful. You can now login using your new password."),r.next=11,Object(p.c)(Object(O.d)("/login"));case 11:r.next=18;break;case 13:return r.prev=13,r.t0=r.catch(1),Object(d.a)(r.t0.message),r.next=18,Object(p.c)({type:a.RESET_PASSWORD_FAILED});case 18:case"end":return r.stop()}}),x,null,[[1,13]])}function U(e){var t,n,r;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(p.b)(k,t);case 4:return n=c.sent,r=n.data,c.next=8,Object(p.c)({type:a.SIGNUP_SUCCESS,payload:{data:r}});case 8:return Object(d.b)("Account has been successfully registered."),c.next=11,Object(p.c)(Object(O.d)("/login"));case 11:c.next=18;break;case 13:return c.prev=13,c.t0=c.catch(1),Object(d.a)(c.t0.message),c.next=18,Object(p.c)({type:a.SIGNUP_FAILED});case 18:case"end":return c.stop()}}),_,null,[[1,13]])}function G(e){var t,n,r;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(p.b)(N,t);case 4:return n=c.sent,r=n.data,c.next=8,Object(p.c)({type:a.FORGOT_PASSWORD_SUCCESS,payload:{data:r.data}});case 8:return Object(d.b)("Your reset password link has been succesfully sent to your email."),c.next=11,Object(p.c)(Object(O.d)("/login"));case 11:c.next=18;break;case 13:return c.prev=13,c.t0=c.catch(1),Object(d.a)("Sending recovery email has failed. Please try again."),c.next=18,Object(p.c)({type:a.FORGOT_PASSWORD_FAILED});case 18:case"end":return c.stop()}}),w,null,[[1,13]])}function W(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(C,1e3);case 2:return localStorage.removeItem("user"),Object(d.b)("You have logged out successfully."),e.next=6,Object(p.c)(Object(O.d)("/login"));case 6:case"end":return e.stop()}}),A)}function B(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(a.LOGIN,F);case 2:return e.next=4,Object(p.d)(a.SIGNUP,U);case 4:return e.next=6,Object(p.d)(a.FORGOT_PASSWORD,G);case 6:return e.next=8,Object(p.d)(a.ACTIVATION,P);case 8:return e.next=10,Object(p.d)(a.RESET_PASSWORD,L);case 10:return e.next=12,Object(p.d)(a.LOGOUT,W);case 12:case"end":return e.stop()}}),I)}var M="@authentication/LOGIN",V="@authentication/LOGIN_SUCCESS",z="@authentication/LOGIN_FAILED",H="@authentication/SIGNUP",Y="@authentication/SIGNUP_SUCCESS",J="@authentication/SIGNUP_FAILED",K="@authentication/RESET_PASSWORD",X="@authentication/RESET_PASSWORD_SUCCESS",q="@authentication/RESET_PASSWORD_FAILED",$="@authentication/ACTIVATION",Q="@authentication/ACTIVATION_SUCCESS",Z="@authentication/ACTIVATION_FAILED",ee="@authentication/FORGOT_PASSWORD",te="@authentication/FORGOT_PASSWORD_SUCCESS",ne="@authentication/FORGOT_PASSWORD_FAILED",ae="@authentication/LOGOUT",re="@edi/SET_CURRENT_FILE_COUNT",ce={isAuthenticating:!1,isAuthenticated:!1,isSubmitting:!1,token:null,errorMessage:null,message:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(h.a)(Object(h.a)({},e),{},{isAuthenticating:!0,token:t.payload.accessToken,email:t.payload.email,userId:t.payload.id});case V:return Object(h.a)(Object(h.a)({},e),{},{isAuthenticating:!1,isAuthenticated:!0,data:t.payload});case z:return Object(h.a)(Object(h.a)({},e),{},{isAuthenticating:!1});case $:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!0});case Q:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!1,message:t.payload});case Z:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!1,errorMessage:t.payload});case K:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!0});case X:case q:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!1});case H:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!0});case Y:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!1,data:t.payload});case J:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!1});case ee:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!0});case te:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!1,data:t.payload});case ne:return Object(h.a)(Object(h.a)({},e),{},{isSubmitting:!1});case ae:return Object(h.a)(Object(h.a)({},e),{},{isAuthenticating:!1,isAuthenticated:!1});default:return e}},oe=(n(85),n(35)),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.b:return Object(h.a)(Object(h.a)({},e),{},{isOpen:!0,message:t.message,type:t.snackbarType});case oe.a:return Object(h.a)(Object(h.a)({},e),{},{isOpen:!1});default:return e}},se=(n(86),"SHOW_LOADER"),le="HIDE_LOADER",be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:case le:return t.data;default:return e}},pe=function(e){return Object(u.b)({router:Object(i.b)(e),authentication:ue,loader:be,snackbar:ie})},de=n(104),Oe=l.a.mark(fe);function fe(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)([B()]);case 2:case"end":return e.stop()}}),Oe)}var Se=Object(c.a)(),he=Object(de.a)(),me="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.c,je=[Object(o.a)(Se),he],Ee=me(u.a.apply(void 0,Object(r.a)(je))),ve=Object(u.d)(pe(Se),Ee),ge=function(e){return e};he.run(fe)},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="SHOW_SNACKBAR",r="HIDE_SNACKBAR"},45:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(35),r=function(e,t){return{type:a.b,message:e,snackbarType:t}},c=function(){return{type:a.a}}},85:function(e,t){},86:function(e,t){},99:function(e,t,n){e.exports=n.p+"static/media/dashboard-bg.c27051eb.png"}},[[113,4,5]]]);